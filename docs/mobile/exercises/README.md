# Mobile exercises

Writing a DataCamp for Mobile is quite different than writing a DataCamp
[desktop course](../../courses/readme.md). The upside is that you can reach a
much broader audience because the convenience is higher and the barrier to entry
is lower. The challenge is that there are many more constraints to work
within. Primary among these are the restricted screen real estate and the lack
of an interactive interpreter. These constraints require you to think carefully
about the way you introduce concepts and the examples that you use.

# Basic exercise structure

There are roughly 5 exercise types available to you as an author on DataCamp
Mobile, but they all share a similar structure. In general (with a few
exceptions), you can think of an exercise as a short code vignette comprising
various blocks in the following structure:

```yaml
# print()
- key: c11dbdf1-49c9-408a-a1e4-885431af2196
  context: "`print()` outputs to the screen. Whatever you put between the parentheses will be output! E.g. `print(5)` will output `5`!"
  question: "" # this is the default
  code: "print(42)"
  output: "42"
  distractor_output:
    - option: "4"
      feedback: "`print()` will output all of whatever is between the parentheses, not just the first part."
    - option: "2"
      feedback: "`print()` will output all of whatever is between the parentheses, not just the last part."
```

Let's dig into each of the blocks...

## topic

```yaml
# print()
```

Even though it's not part of the exercise itself, it's a very good idea to
comment your exercises so you can quickly remind yourself what each exercise is
designed to teach or test. In fact, it can be helpful to start by outlining a
whole lesson with a scaffolding of comments before expanding the exercises.

## key

```yaml
- key: c11dbdf1-49c9-408a-a1e4-885431af2196
```

This is a unique UUID for the exercise.

## context

```yaml
  context: "`print()` outputs to the screen. Whatever you put between the parentheses will be output! E.g. `print(5)` will output `5`!"
```

This is where you can provide exposition necessary to introduce a new
concept. It should be kept as minimal as possible (no longer than 150
characters). It's good to shoot for a lighter, more informal feel here than on
desktop. This field supports markdown elements like `inline code` and
**emboldening**. Emojis are not just supported, they're encouraged!

## question

```yaml
  question: "" # this is the default
```

This field is always optional. It will override the default question for the
relevant exercise type. Don't change this unless you absolutely need to for an
exercise to make sense.

## code

```yaml
  code: "print(42)"
```

This is the code! Anything you here should be syntactically correct, executable
code. The format of the code block can vary slightly for different exercise
types, for example reorder and tap exercises. See the documentation for those
exercise types to get the details.

## output

```yaml
  output: "42"
```

This is the output generated by the code in a code block. That means anything
that would get printed to the console in an interactive Python or R terminal
session.

## distractors

```yaml
  distractor_output:
    - option: "4"
      feedback: "`print()` will output all of whatever is between the parentheses, not just the first part."
    - option: "2"
      feedback: "`print()` will output all of whatever is between the parentheses, not just the last part."
```

The rendered exercise type depends largely on the distractors block. In the
example above, the use of the `distractor_output` field indicates this exercise
will be a select output exercise.

Other distractor types will result in different exercise types:

- distractor_output -> [Select Output](select-output.md)
- distractor_code   -> [Select Code](select-code.md)
- distractor_blanks -> [Tap](tap.md)
- distractor_text   -> [Multiple Choice](multiple-choice.md)
- distractor_table  -> [Select Table](select-table.md)

The only exercise type that does not require a distractor field is the
[Reorder](reorder.md) .

Regardless of the exercise type, the distractor field is always a list of
distractors (AKA wrong answers). Each individual distractor in the list has two
elements: `option`, the incorrect answer itself, and `feedback`, the feedback
message that students will see if they incorrectly choose that distractor.

# Other available blocks

## table

```yaml
table:
  data: |-
    name     ,birthdate
    50 Cent  ,1975-07-06
    Aaliyah  ,1979-01-16
    Aaron Yoo,1979-05-12
  message: "Showing 3 out of 537 rows"
```

You can opt to use a `table` block instead of an `output` block, for example
when displaying the output of a SQL query, which is more appropriate as a
table. The table field has two subfields. First is `data`, which contains the
actual table data as comma separated values. They needn't be aligned, but they
can be and sometimes this improves readability.  The second is `message`, which
contains a short string of text that is displayed in the footer of the
table. The most common use for the table message is to indicate row truncation,
because tables should not be displayed with more than 5 rows as a general
rule. If you *are* truncating the result, the `message` field is mandatory,
otherwise it is not.

## image

```yaml
image: my-cool-plot
```

You can put image assets into your exercises! In this example, `my-cool-plot` is
a reference to an image asset specified in the [course
manifest](../repo-structure.md).

## complex context

The `context` block can be more complex than a simple string. Sometimes you need
to introduce a table, image, multi-line code snippet, or output in the context,
*before* the question block. This really starts to stretch the limits of what
can be displayed on a single screen, so simple text context should always be
strongly preferred.

For example, to include an image such as a plot:

```yaml
context:
  text: Study the plot below to answer the following question.
  image: my-cool-plot
```

To include a table:

```yaml
context:
  text: Study the table below to answer the following question.
  table: |-
    foo, bar, baz
    1  ,2   ,3
    4  ,5   ,6
```

## feedback

The `feedback` field is the message that is displayed when a student gets the
exercise correct. These aren't required. In fact, you should never put any
critical pedagogical information here. If you want to put in a message of
encouragement or jubilation however, feel free!

## feedback_wrong

```yaml
feedback_wrong: "Don't forget that R is 1-indexed, not 0-indexed like Python."
```

The `feedback_wrong` field is the fallback feedback message when a particular
distractor hasn't been supplied with one. Usually, you should be giving specific
feedback for each individual distractor, because specific, enlightening feedback
messages are one of the most effective ways of teaching on DataCamp for
Mobile. If you find that the same feedback message is appropriate for multiple
distrators, however, this field is provided for convenience.

## tabs

```yaml
tabs:
  - key: people
    type: table
```

Tabs appear in the top right of the exercise and serve as a way to display
datasets or files. The appropriate asset must be defined in the [course
manifest](../repo-structure.md). A tab field has two subfields: `key`, which is
the alias for the asset as defined in the manifest, and `type`, which specifies
how to render the asset. Currently only `file` and `table` are supported.

# Summary of available blocks

:ok: Allowed

:heavy_check_mark: Required

:x: Not Allowed

| Block             | Reorder            | Tap                | Select Code        | Select Output      | Select Table       | Multiple Choice    |
|-------------------|--------------------|--------------------|--------------------|--------------------|--------------------|--------------------|
| key               | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: |
| context           | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               |
| question          | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               |
| image             | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               |
| code              | :heavy_check_mark: | :heavy_check_mark: | :heavy_check_mark: | :ok:               | :ok:               | :ok:               |
| output            | :ok:               | :ok:               | :ok:               | :heavy_check_mark: | :ok:               | :ok:               |
| table             | :ok:               | :ok:               | :ok:               | :ok:               | :heavy_check_mark: | :ok:               |
| distractor_blanks | :x:                | :heavy_check_mark: | :x:                | :x:                | :x:                | :x:                |
| distractor_code   | :x:                | :x:                | :heavy_check_mark: | :x:                | :x:                | :x:                |
| distractor_output | :x:                | :x:                | :x:                | :heavy_check_mark: | :x:                | :x:                |
| distractor_table  | :x:                | :x:                | :x:                | :x:                | :heavy_check_mark: | :x:                |
| distractor_text   | :x:                | :x:                | :x:                | :x:                | :x:                | :heavy_check_mark: |
| feedback          | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               |
| feedback_wrong    | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               | :ok:               |

# YAML tips and tricks

You will often be writing code blocks or output blocks that span multiple
lines. You *can* use explicit newlines `\n`, but the easier and more readable
option is to use a feature of the YAML spec known as **literal scalar
blocks**. Just put `|-` after the colon `:` of a field and then indent the
following lines by another two spaces. Everything in the indented block will be
rendered verbatim, including newlines and all quotes.

Instead of this:

```yaml
solution: "v <- c(4, 9, 3, 5)\norder(v)"
```

Try this:

```yaml

solution: |-
  v <- c(4, 9, 3, 5)
  order(v)
```

A small wrench is thrown into things when the first line of the literal scalar
block needs to start with blank space. When that happens, you need to count the
number of blank spaces at the beginning of the first line `N`, and put that number
`N` after the `|-`. Then, indent the whole block an extra `N` characters. This
is easier demonstrated than explained.

Instead of this:

```yaml
output: "[,1] [,2]\n[1,]    1    3\n[2,]    2    4"
```

Try this:

```yaml
output: |-5
            [,1] [,2]
       [1,]    1    3
       [2,]    2    4
```

See the [YAML spec](http://yaml.org/spec/1.2/spec.html) for more advanced YAML
features that might come in handy, but literal scalar blocks will be what you
need 99% of the time.

[This online YAML parser](https://yaml-online-parser.appspot.com) can also be
useful for diagnosing bugs in YAML. [The `mobile-teach`
linter](../development.md) should be able to clearly pinpoint 100% of errors,
however.

You don't need to use quotes in your key-value pairs unless the value itself
contains a single or double quote.
