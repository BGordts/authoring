## Use map safely

```yaml
type: BlanksChallenge 
key: 139trAKoveqgy 
difficulty: 1
```

`@code`

```{r}
# blanks: [{from: [fun1, fun2, fun3, var3], choose: 3}]
library(purrr)
costs <- {{ var1 }}
  
absolute_value <- {{ fun1 }}(abs)
{{ fun3 }}({{ var3 }}, {{ fun2 }})
```


`@pre_challenge_code`

```{r}
cities <- c('boston', 'la', 'nyc', 'dallas', 'houston', 'seattle')
shared <- sample(seq_along(cities), 2)
gen_values <- function(){
  nums <- sample(-100:100, 2)
  sprintf("c(item_a = %s, item_b = %s)", nums[1], nums[2])
}
gen_var1 <- function(){
  cities_sel <- sample(cities, 2, replace = F)
  values <- replicate(length(cities_sel), gen_values())
  d <- paste('  ', paste(cities_sel, values, sep = " = "))
  paste0('list(\n', paste(d, collapse = ',\n'), '\n)')
}
```

`@variables`

```{yaml}
var1: "!expr gen_var1"
var2: costs
fun1: safely
fun2: absolute_value
fun3: map
```
